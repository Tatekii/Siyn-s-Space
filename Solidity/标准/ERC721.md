# ERC72
[以太坊EIP721](https://eips.ethereum.org/EIPS/eip-721)提出了`ERC721`标准，来抽象非同质化的物品。

# ERC165
通过[ERC165标准](https://eips.ethereum.org/EIPS/eip-165)，智能合约可以声明它支持的接口，供其他合约检查。简单的说，ERC165就是检查一个智能合约是不是支持了`ERC721`，`ERC1155`的接口。

```sol
interface IERC165 {
    /**
     * @dev 如果合约实现了查询的`interfaceId`，则返回true
     * 规则详见：https://eips.ethereum.org/EIPS/eip-165#how-interfaces-are-identified[EIP section]
     *
     */
    function supportsInterface(bytes4 interfaceId) external view returns (bool);
}

```

ERC721中对supportInterface的实现
```sol
    function supportsInterface(bytes4 interfaceId) external pure override returns (bool)
    {
        return
            interfaceId == type(IERC721).interfaceId ||
            interfaceId == type(IERC165).interfaceId;
    }

```

# IERC721
`IERC721`是`ERC721`标准的接口合约，规定了`ERC721`要实现的基本函数。它利用`tokenId`来表示特定的非同质化代币，授权或转账都要明确`tokenId`；而[ERC20](ERC20.md)只需要明确转账的数额即可。

## 事件
### `Transfer`
在转账时被释放，记录代币的发出地址`from`，接收地址`to`和`tokenid`。
```sol
event Transfer(address indexed from, address indexed to, uint256 indexed tokenId);
```
### `Approval`
在授权时释放，记录授权地址`owner`，被授权地址`approved`和`tokenid`。
```sol
event Approval(address indexed owner, address indexed approved, uint256 indexed tokenId);
```

### `ApprovalForAll`
在批量授权时释放，记录批量授权的发出地址`owner`，被授权地址`operator`和授权与否的`approved`。
```sol
event ApprovalForAll(address indexed owner, address indexed operator, bool approved);
```

## 函数
### balanceOf
返回某地址的NTF持有量。
```sol
function balanceOf(address owner) external view returns (uint256 balance);
```
### ownerOf
返回某`tokenId`的主人`owner`。
```sol
function ownerOf(uint256 tokenId) external view returns (address owner);
```
### transferFrom
```sol

```
### safeTransferFrom
安全转账（如果接收方是合约地址，会要求实现`ERC721Receiver`接口）。参数为转出地址`from`，接收地址`to`和`tokenId`。